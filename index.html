<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Registration — Simple Two‑Page Flow</title>
  <style>
    :root{font-family:system-ui,-apple-system,Segoe UI,Roboto,'Helvetica Neue',Arial}
    body{display:grid;place-items:center;min-height:100vh;margin:0;background:linear-gradient(180deg,#f7fbff,#eef6ff)}
    .card{width:100%;max-width:420px;background:white;padding:28px;border-radius:12px;box-shadow:0 8px 30px rgba(20,30,60,0.08)}
    h1{margin:0 0 12px;font-size:20px}
    p.lead{margin:0 0 20px;color:#4b5563}
    label{display:block;margin-bottom:8px;font-size:13px;color:#374151}
    input[type=text],input[type=email],input[type=password]{width:100%;padding:10px 12px;border:1px solid #e6eef8;border-radius:8px;font-size:14px}
    .row{display:grid;gap:12px}
    .muted{font-size:13px;color:#6b7280;margin-top:8px}
    .actions{display:flex;gap:12px;align-items:center;margin-top:16px}
    button{background:#0b69ff;color:#fff;border:none;padding:10px 14px;border-radius:8px;font-weight:600;cursor:pointer}
    button[disabled]{opacity:0.6;cursor:not-allowed}
    .error{color:#b91c1c;font-size:13px;margin-top:8px}
    .small{font-size:13px}
    .center{text-align:center}
    .thumb{font-weight:700;color:#0b69ff}
  </style>
</head>
<body>
  <main class="card" id="app">
    <!-- Page 1: Registration -->
    <section id="page-register" aria-labelledby="register-heading">
      <h1 id="register-heading">Registration</h1>
      <p class="lead">Please fill out your details.</p>

      <form id="register-form" novalidate>
        <div class="row">
          <div>
            <label for="fullname">Full Name</label>
            <input id="fullname" name="fullname" type="text" autocomplete="name" required />
          </div>

          <div>
            <label for="email">Email</label>
            <input id="email" name="email" type="email" autocomplete="email" required />
          </div>

          <div>
            <label for="password">Password</label>
            <input id="password" name="password" type="password" minlength="6" autocomplete="new-password" required />
          </div>

          <div>
            <label for="confirm">Confirm password</label>
            <input id="confirm" name="confirm" type="password" minlength="6" autocomplete="new-password" required />
          </div>

          <div id="error" class="error" role="alert" aria-live="polite" hidden></div>

          <div class="actions">
            <button id="submit-btn" type="submit">Register</button>
            <div class="muted small">Please keep password difficult.</div>
          </div>
        </div>
      </form>
    </section>

    <!-- Page 2: Thank you -->
    <section id="page-thanks" hidden aria-labelledby="thanks-heading">
      <h1 id="thanks-heading">Thanks for registering</h1>
      <p class="lead">We'll contact you if your profile matches for an interview.</p>
      <p class="small">Registered name: <span id="show-name" class="thumb"></span></p>
      <p class="small">Registered email: <span id="show-email" class="thumb"></span></p>
      <p class="small">Saved password (plain text for learning): <span id="show-pass" class="thumb"></span></p>
      <div style="margin-top:18px;display:flex;gap:10px;justify-content:flex-end">
        <button id="back-btn" type="button">Back to form</button>
      </div>
    </section>
  </main>

  <script>
    const form = document.getElementById('register-form');
    const nameInput = document.getElementById('fullname');
    const emailInput = document.getElementById('email');
    const passInput = document.getElementById('password');
    const confirmInput = document.getElementById('confirm');
    const errorBox = document.getElementById('error');
    const pageRegister = document.getElementById('page-register');
    const pageThanks = document.getElementById('page-thanks');
    const showName = document.getElementById('show-name');
    const showEmail = document.getElementById('show-email');
    const showPass = document.getElementById('show-pass');
    const backBtn = document.getElementById('back-btn');

    function validate() {
      errorBox.hidden = true;
      const name = nameInput.value.trim();
      const email = emailInput.value.trim();
      const pw = passInput.value;
      const cpw = confirmInput.value;

      if (!name) return 'Please enter your full name.';
      if (!email) return 'Please enter your email.';
      if (!/^\S+@\S+\.\S+$/.test(email)) return 'Please enter a valid email address.';
      if (pw.length < 6) return 'Password must be at least 6 characters.';
      if (pw !== cpw) return 'Passwords do not match.';
      return '';
    }

    form.addEventListener('submit', (e) => {
      e.preventDefault();
      const message = validate();
      if (message) {
        errorBox.textContent = message;
        errorBox.hidden = false;
        return;
      }

      // Save password as plain text for learning purposes only
      const payload = { 
        fullname: nameInput.value.trim(), 
        email: emailInput.value.trim(), 
        password: passInput.value, 
        timestamp: new Date().toISOString() 
      };
      try { localStorage.setItem('registration', JSON.stringify(payload)); } catch (err) { }

      showName.textContent = payload.fullname;
      showEmail.textContent = payload.email;
      showPass.textContent = payload.password;
      pageRegister.hidden = true;
      pageThanks.hidden = false;
    });

    backBtn.addEventListener('click', () => {
      pageThanks.hidden = true;
      pageRegister.hidden = false;
    });

    (function prefill(){
      try {
        const r = JSON.parse(localStorage.getItem('registration'));
        if (r && r.email) emailInput.value = r.email;
        if (r && r.fullname) nameInput.value = r.fullname;
        if (r && r.password) passInput.value = r.password;
      } catch (e){}
    })();
  </script>
</body>
</html>
